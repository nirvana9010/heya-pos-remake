{"statusCode":400,"errorCode":"VALIDATION_ERROR","message":"Database validation error","details":{"error":"\nInvalid `this.prisma.booking.findMany()` invocation in\n/home/lukas/projects/heya-pos-remake/apps/api/src/contexts/bookings/application/queries/handlers/get-bookings-list.handler.ts:72:27\n\n  69 \n  70 // Execute query with optimized fields for list view\n  71 const [bookings, total] = await Promise.all([\n→ 72   this.prisma.booking.findMany({\n         where: {\n           merchantId: \"e43add9e-7d6f-4a23-a546-0aafb4a79a8c\",\n           startTime: {\n             gte: new Date(\"2025-09-29T14:00:00.000Z\"),\n             lte: new Date(\"2025-09-30T13:59:59.999Z\")\n           }\n         },\n         select: {\n           id: true,\n           bookingNumber: true,\n           startTime: true,\n           endTime: true,\n           status: true,\n           totalAmount: true,\n           createdAt: true,\n           source: true,\n           customerRequestedStaff: true,\n           ~~~~~~~~~~~~~~~~~~~~~~\n           paymentStatus: true,\n           paidAmount: true,\n           paymentMethod: true,\n           paidAt: true,\n           completedAt: true,\n           customer: {\n             select: {\n               firstName: true,\n               lastName: true,\n               phone: true,\n               source: true\n             }\n           },\n           provider: {\n             select: {\n               id: true,\n               firstName: true,\n               lastName: true\n             }\n           },\n           services: {\n             select: {\n               service: {\n                 select: {\n                   id: true,\n                   name: true,\n                   duration: true,\n                   price: true,\n                   displayOrder: true\n                 }\n               }\n             },\n             orderBy: {\n               service: {\n                 displayOrder: \"asc\"\n               }\n             }\n           },\n           location: {\n             select: {\n               name: true\n             }\n           },\n       ?   merchantId?: true,\n       ?   locationId?: true,\n       ?   customerId?: true,\n       ?   depositAmount?: true,\n       ?   notes?: true,\n       ?   cancellationReason?: true,\n       ?   createdById?: true,\n       ?   providerId?: true,\n       ?   reminderSent?: true,\n       ?   confirmedAt?: true,\n       ?   checkedInAt?: true,\n       ?   cancelledAt?: true,\n       ?   deletedAt?: true,\n       ?   updatedAt?: true,\n       ?   isOverride?: true,\n       ?   overrideReason?: true,\n       ?   overrideApprovedBy?: true,\n       ?   paymentReference?: true,\n       ?   createdBy?: true,\n       ?   merchant?: true,\n       ?   invoice?: true,\n       ?   loyaltyTransactions?: true,\n       ?   notificationLogs?: true,\n       ?   order?: true,\n       ?   scheduledNotifications?: true,\n       ?   _count?: true\n         },\n         skip: 0,\n         take: 100,\n         orderBy: {\n           startTime: \"desc\"\n         }\n       })\n\nUnknown field `customerRequestedStaff` for select statement on model `Booking`. Available options are listed in green."},"timestamp":"2025-09-29T22:06:21.989Z","path":"/api/v2/bookings?limit=100&startDate=2025-09-29T14:00:00.000Z&endDate=2025-09-30T13:59:59.999Z","method":"GET","requestId":"9d98ca99-cc61-4ece-a807-42e6971636cd","stack":"PrismaClientValidationError: \nInvalid `this.prisma.booking.findMany()` invocation in\n/home/lukas/projects/heya-pos-remake/apps/api/src/contexts/bookings/application/queries/handlers/get-bookings-list.handler.ts:72:27\n\n  69 \n  70 // Execute query with optimized fields for list view\n  71 const [bookings, total] = await Promise.all([\n→ 72   this.prisma.booking.findMany({\n         where: {\n           merchantId: \"e43add9e-7d6f-4a23-a546-0aafb4a79a8c\",\n           startTime: {\n             gte: new Date(\"2025-09-29T14:00:00.000Z\"),\n             lte: new Date(\"2025-09-30T13:59:59.999Z\")\n           }\n         },\n         select: {\n           id: true,\n           bookingNumber: true,\n           startTime: true,\n           endTime: true,\n           status: true,\n           totalAmount: true,\n           createdAt: true,\n           source: true,\n           customerRequestedStaff: true,\n           ~~~~~~~~~~~~~~~~~~~~~~\n           paymentStatus: true,\n           paidAmount: true,\n           paymentMethod: true,\n           paidAt: true,\n           completedAt: true,\n           customer: {\n             select: {\n               firstName: true,\n               lastName: true,\n               phone: true,\n               source: true\n             }\n           },\n           provider: {\n             select: {\n               id: true,\n               firstName: true,\n               lastName: true\n             }\n           },\n           services: {\n             select: {\n               service: {\n                 select: {\n                   id: true,\n                   name: true,\n                   duration: true,\n                   price: true,\n                   displayOrder: true\n                 }\n               }\n             },\n             orderBy: {\n               service: {\n                 displayOrder: \"asc\"\n               }\n             }\n           },\n           location: {\n             select: {\n               name: true\n             }\n           },\n       ?   merchantId?: true,\n       ?   locationId?: true,\n       ?   customerId?: true,\n       ?   depositAmount?: true,\n       ?   notes?: true,\n       ?   cancellationReason?: true,\n       ?   createdById?: true,\n       ?   providerId?: true,\n       ?   reminderSent?: true,\n       ?   confirmedAt?: true,\n       ?   checkedInAt?: true,\n       ?   cancelledAt?: true,\n       ?   deletedAt?: true,\n       ?   updatedAt?: true,\n       ?   isOverride?: true,\n       ?   overrideReason?: true,\n       ?   overrideApprovedBy?: true,\n       ?   paymentReference?: true,\n       ?   createdBy?: true,\n       ?   merchant?: true,\n       ?   invoice?: true,\n       ?   loyaltyTransactions?: true,\n       ?   notificationLogs?: true,\n       ?   order?: true,\n       ?   scheduledNotifications?: true,\n       ?   _count?: true\n         },\n         skip: 0,\n         take: 100,\n         orderBy: {\n           startTime: \"desc\"\n         }\n       })\n\nUnknown field `customerRequestedStaff` for select statement on model `Booking`. Available options are listed in green.\n    at throwValidationException (/home/lukas/projects/heya-pos-remake/node_modules/@prisma/client/src/runtime/core/errorRendering/throwValidationException.ts:45:9)\n    at ei.handleRequestError (/home/lukas/projects/heya-pos-remake/node_modules/@prisma/client/src/runtime/RequestHandler.ts:202:7)\n    at ei.handleAndLogRequestError (/home/lukas/projects/heya-pos-remake/node_modules/@prisma/client/src/runtime/RequestHandler.ts:174:12)\n    at ei.request (/home/lukas/projects/heya-pos-remake/node_modules/@prisma/client/src/runtime/RequestHandler.ts:143:12)\n    at async a (/home/lukas/projects/heya-pos-remake/node_modules/@prisma/client/src/runtime/getPrismaClient.ts:833:24)\n    at async Promise.all (index 0)\n    at async GetBookingsListHandler.execute (/home/lukas/projects/heya-pos-remake/apps/api/src/contexts/bookings/application/queries/handlers/get-bookings-list.handler.ts:71:31)\n    at async QueryBus.execute (/home/lukas/projects/heya-pos-remake/node_modules/@nestjs/cqrs/dist/query-bus.js:70:17)\n    at async BookingsV2Controller.findAll (/home/lukas/projects/heya-pos-remake/apps/api/src/contexts/bookings/infrastructure/controllers/bookings.v2.controller.ts:75:20)","debug":{"body":{},"query":{"limit":"100","startDate":"2025-09-29T14:00:00.000Z","endDate":"2025-09-30T13:59:59.999Z"},"params":{}}}